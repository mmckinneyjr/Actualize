{"ast":null,"code":"import axios from \"axios\";\nexport default {\n  data: function () {\n    return {\n      newSessionParams: {},\n      errors: []\n    };\n  },\n  methods: {\n    submit: function () {\n      axios.post(\"/sessions\", this.newSessionParams).then(response => {\n        axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + response.data.jwt;\n        localStorage.setItem(\"jwt\", response.data.jwt);\n        this.$router.push(\"/\");\n      }).catch(error => {\n        console.log(error.response);\n        this.errors = [\"Invalid email or password.\"];\n        this.email = \"\";\n        this.password = \"\";\n      });\n    }\n  }\n};","map":{"version":3,"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe;EACbC,IAAI,EAAE,YAAY;IAChB,OAAO;MACLC,gBAAgB,EAAE,EADb;MAELC,MAAM,EAAE;IAFH,CAAP;EAID,CANY;EAObC,OAAO,EAAE;IACPC,MAAM,EAAE,YAAY;MAClBL,KAAI,CACDM,IADH,CACQ,WADR,EACqB,KAAKJ,gBAD1B,EAEGK,IAFH,CAESC,QAAD,IAAc;QAClBR,KAAK,CAACS,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAiD,YAAYH,QAAQ,CAACP,IAAT,CAAcW,GAA3E;QACAC,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BN,QAAQ,CAACP,IAAT,CAAcW,GAA1C;QACA,KAAKG,OAAL,CAAaC,IAAb,CAAkB,GAAlB;MACD,CANH,EAOGC,KAPH,CAOUC,KAAD,IAAW;QAChBC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACV,QAAlB;QACA,KAAKL,MAAL,GAAc,CAAC,4BAAD,CAAd;QACA,KAAKkB,KAAL,GAAa,EAAb;QACA,KAAKC,QAAL,GAAgB,EAAhB;MACD,CAZH;IAaD;EAfM;AAPI,CAAf","names":["axios","data","newSessionParams","errors","methods","submit","post","then","response","defaults","headers","common","jwt","localStorage","setItem","$router","push","catch","error","console","log","email","password"],"sourceRoot":"","sources":["/Users/codingbootcamp/Documents/Actualize/week06-practice/blog-api/blog-frontend/src/views/LoginView.vue"],"sourcesContent":["<script>\nimport axios from \"axios\";\n\nexport default {\n  data: function () {\n    return {\n      newSessionParams: {},\n      errors: [],\n    };\n  },\n  methods: {\n    submit: function () {\n      axios\n        .post(\"/sessions\", this.newSessionParams)\n        .then((response) => {\n          axios.defaults.headers.common[\"Authorization\"] = \"Bearer \" + response.data.jwt;\n          localStorage.setItem(\"jwt\", response.data.jwt);\n          this.$router.push(\"/\");\n        })\n        .catch((error) => {\n          console.log(error.response);\n          this.errors = [\"Invalid email or password.\"];\n          this.email = \"\";\n          this.password = \"\";\n        });\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"login\">\n    <form v-on:submit.prevent=\"submit()\">\n      <h1>Login</h1>\n      <ul>\n        <li v-for=\"error in errors\" v-bind:key=\"error\">{{ error }}</li>\n      </ul>\n      <div>\n        <label>Email:</label>\n        <input type=\"email\" v-model=\"newSessionParams.email\" />\n      </div>\n      <div>\n        <label>Password:</label>\n        <input type=\"password\" v-model=\"newSessionParams.password\" />\n      </div>\n      <input type=\"submit\" value=\"Submit\" />\n    </form>\n  </div>\n</template>\n"]},"metadata":{},"sourceType":"module"}